syntax = "proto3";

import "google/protobuf/empty.proto";

package blockchain;

service BlockchainService {
    // currently creating account on server, this is a security concern for that one request
    // it does however save me lots of headaches on the front end.
    rpc CreateEthereumAccount (google.protobuf.Empty) returns (WalletKeys);
    rpc UploadFile (UploadImageRequest) returns (UploadImageResponse);
    rpc DeleteFile (DeleteImageRequest) returns (google.protobuf.Empty);
    rpc GetEvents (google.protobuf.Empty) returns (Events);
    rpc CreateEvent (CreateEventRequest) returns (CreateEventResponse);
}

message WalletKeys {
    string address = 1;
    string privateKey = 2;
}

message UploadImageRequest {
    bytes binary = 1;
    string mime = 2;
}

message UploadImageResponse {
    string cid = 1;
    string url = 2;
}

message DeleteImageRequest {
    string id = 1;
}

message Events {
    repeated string addresses = 1;
}

message CreateEventRequest {
    UploadImageResponse file = 1;
    string name = 2;
    string eventName = 3;
    string ticketAmount = 4;
    string ticketPrice = 5;
    string resaleCost = 6;
    string date = 7;
}


message CreateEventResponse {
    string to = 1;
    string data = 2;
}
